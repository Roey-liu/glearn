
## 搞这玩意有啥好处

 1 TCP的细节  
 2 服务器并发数量的极限  
 3 网卡数据的理解


## 单台服务器并发数量的极限在哪？ 

我们应该考虑以下五元组  

-------**CPU  内存  网卡  带宽   内核**

结论是如今最大的瓶颈在于内核 于是有人提出把协议栈搬到用户态的解决方案


##  如何把协议栈做到用户态里面？ 

将网卡映射到内存中： netmap/dpdk  

站在CPU的角度  mmap  把网卡内部（网卡上存储数据）空间 之间映射到内存中

这样 就使得我们操作网卡和操作内存是一样的 这个就是把协议栈做到用户态的基础


##  如何在netmap基础上面实现一个小的UDP协议栈？

### 当我们发送一个udp数据包 这个包里面都有啥玩意？








1  fd  连接数量的限制

2  协议栈做成应用程序
    避免了系统调用的copy



如何把协议栈做到应用程序里面？ 

  mmap核心的东西（DMA）




网络协议栈知识

发送一个UDP的数据包

sendto()  recvfrom();

udphdr(8)

iphdr (20)

ethr_headrr (14)





















